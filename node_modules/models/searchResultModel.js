// models/searchResultModel.js
const { sql, poolPromise } = require('../config/db');

class SearchResult {
    static async createSearchResult(searchId, title, description, url) {
        try {
            const pool = await poolPromise;
            await pool.request()
                .input('search_id', sql.Int, searchId)
                .input('title', sql.Text, title)
                .input('description', sql.Text, description)
                .input('url', sql.Text, url)
                .query('INSERT INTO search_results (search_id, title, description, url) VALUES (@search_id, @title, @description, @url)');
            return { message: 'Resultado de búsqueda creado con éxito' };
        } catch (error) {
            throw new Error('Error al crear resultado de búsqueda: ' + error.message);
        }
    }
}

module.exports = SearchResult;
